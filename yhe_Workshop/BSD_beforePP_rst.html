<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <!-- <meta name="viewport" content="width=device-width, initial-scale=1"> -->
        <!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ -->
        <title> NIO PLM BSD Display (Before PP) </title>
        <!-- Bootstrap -->
        <link href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
        <!-- HTML5 shim 和 Respond.js 是为了让 IE8 支持 HTML5 元素和媒体查询（media queries）功能 -->
        <!-- 警告：通过 file:// 协议（就是直接将 html 页面拖拽到浏览器中）访问页面时 Respond.js 不起作用 -->
        <!--[if lt IE 9]>
        <script src="https://cdn.bootcss.com/html5shiv/3.7.3/html5shiv.min.js"></script>
        <script src="https://cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->
        <style>
            body {
                padding-bottom: 30px;
            }

            .logo_img {
                height:95px;
                padding: 8px 0 0 20px;
                line-height:95px;
            }

            .title_color {
                color:#FFFFFF
            }

            .title_margin {
                margin: 24px 0 3px 0
            }

            #tb_01 .together_cell, 
            #tb_05 .sign_cell {border: 0px solid #ddd;}

            .to_right_side {text-align:right;}

            #tb_01 .to_middle_posi,
            #tb_02 .to_middle_posi,
            #tb_03 .to_middle_posi,
            #tb_04 .to_middle_posi,
            #tb_05 .to_middle_posi  {vertical-align:middle;}

            #tb_05 .to_bottom_pposi  {vertical-align:bottom;}

            #tb_05 .tb05_tr_hcenter,
            #tb_05 .tb05_td_hcenter { text-align: center; }

            #tb_02 td {
                vertical-align:middle;
                text-align: center;
            }

            #tb_05 .sign_title_middle {
                height:60px;
                vertical-align:middle;
            }

            #tb_05 .sign_line_bottom { 
                height:60px;
                vertical-align:bottom;
            }
            
            /* function-style below */
            .inline_block { display: inline-block; }

            .posi_relative { position: relative; }
            .posi_absolute { position: absolute; }

            .hcenter { text-align: center; }
            .vcenter { vertical-align: middle; }

            .hright { text-align: right; }

            .font_bold { font-weight: bold; }

            .bg_E6FAFA { background: #E6FAFA; }

            /* quick-tool-style below */
            .bd_0px { border: 0px; }
            .bdtp_0px { border-top: 0px; }
            .margbtm_0 { margin-bottom: 0px; }
            .marglft_150 { margin-left: 150px; }
            .marglft_15  { margin-left: 15px; }
            .marglft_30 { margin-left: 30px; }
            /* .margtp_300 { margin-top:300px; } */
            .w_100 { width: 100px; }
            .w_190 { width: 190px; }
            .w_1920 { width: 1920px; }
            .w_1920imp { width:1920px !important; }
            .w_1680 { width: 1680px; }
            .w_1680imp { width:1680px !important; }
            .w_1340 { width: 1340px; }
            .w_1340imp { width:1340px !important; }
            .margtp_21 { margin-top: 21px; }
            .margtp_18 { margin-top: 18px; }
            .paddlft_20 { padding-left: 20px; }
            .paddrgt_36 { padding-right: 36px; }
            .border_0 { border: 0px }
            .borderbtm_0 { border-bottom: 0px }
            .fsize_18px { font-size: 18px; }
            .cell_h_60px { height:50px; }
            .cell_h_120px { height:120px; }
            .cell_th_87px { height:87px; }
            

            /* chips spe-style below */
            .fixbtn_wrap_sty {
                /* width:1920px; */
                height: 80px;
                background: #fafafa;
            }
            .fixbtn_con_sty {
                width: 630px !important;
                /* width: 1500px !important; */
                /* margin: 0 auto 0; */
            }
            .fixbtn_p_sty {
                /* text-align: center; */
                margin: 15px;
            }
            .nav_wrap_fff {
                /* margin-bottom: 20px; */
                margin: 80px 0 20px 0;
                height:120px;
                /* width:1920px !important; */
            }
            .nav_container_fff {
                margin: 0 auto 0;
                padding-top: 5px;
                width: 1500px !important;
            }
            .nav_divedt_marg { margin: 26px 0 0 83px; }
            .nav_bianzhi_sty {
                margin-bottom: -3px;
            }
            .nav_divarr_sty {
                display: inline-block;
                margin-left: 12px;
                /* position: relative; */
            }
            .nav_arr_sty {
                transform: translateY(-10px);
            }
            .nav_ver_sty {
                font-size: 14px;
                margin-left: 205px;
            }
            .main_wrap {
                margin-bottom: 20px;
                height:120px;
                /* width:1920px !important; */
            }
            .main_container {
                width: 1500px !important;
                margin: 0 auto 0;
            }
            .tbx_title_sty {
                border-bottom-width:0px;
                font-size: 18px;
            }
            .tb3_xgtzyes_sty {
                left:22px;
                top:-24px;
            }
            .tb1_part_sty {
                left:50px;
                top:18px;
            }
            .tb1_inhouse_sty {
                left:236px;
                top:18px;
            }
            .con_sprst_sty {
                transform: translate(10px,-10px);
            }
            #tb_01 .con_impacn_sty {
                padding-left: 160px;
            }
            #info_tbd .borderbtm_0 { border-bottom: 0px; }
            #tb_01 .paddlft_20,
            #tb_04 .paddlft_20,
            #tb_05 .paddlft_20 {
                padding-left: 20px;
                border-bottom: 0px;
            }
            .con_partinfo_sty {
                height:13px;
            }
            .btn_pdf {
                color: #000;
                border: 3px solid #000;
                height: 72px;
                line-height: 72px;
                font-size: 30px;
                padding: 0 72px;
                display: inline-block;
                /* margin-right: 20px; */
                transition: all .15s;
                margin-top:13px;
                text-decoration: none;
            }
            .btn_pdf:link {
                color: #000;
                text-decoration: none;
            }
            .btn_pdf:visited {
                color: #000;
                text-decoration: none;
            }
            .btn_pdf:active {
                color: #000;
                text-decoration: none;
            }
            .btn_pdf:hover {
                background: black;
                color: #fff;
                /* border: 3px solid #000(247, 32, 32); */
                text-decoration: none;
            }
            /* .btn_wrap {width: 1920px;} */
            .btn_sty {
                height:100px;
                line-height:100px;
                margin: 0 auto 0;
                text-align:center;
                vertical-align:middle;
            }
            .wm_div_sty {
                width:1000px;
                margin:0 auto 0;
                text-align:center;
            }
            .wm_font {
                font-size:73px;
                opacity:0.1;
            }
            #wm_wrap .margtp_400 { margin-top:400px; }
            .loading_div_sty {
                position: absolute;
                top:450px;
                left:903px;
                display:none;
            }
            .pop_wrap {
                z-index: 1400;
                width: 1360px;
                position: absolute;
                top: 150px;
                display: none;
            }
            .pop_con {
                width: 500px;
                height: 200px;
                margin: 0 auto 0;
                background: #fafafa
            }
            .pop_p {
                font-size: 20px;
                margin-top: 50px;
                text-align: center;
            }
            .pop_row {
                margin-top: 50px;
            }
            .pop_btn {
                text-align: center;
                height: 30px;
            }
            .w_200 {
                width: 200px;
            }
            .pop_mask {
                z-index:1300;
                position: absolute;
                top:0px;
                left:0px;
                background:#000000;
                opacity:0.5;
                /* width:1920px; */
                height:2052px;
                display: none;
            }
            .font_wei01 {
                font-weight: bold;
                font-size: 35px;
            }
            .font_wei02 { font-size: 22px; }
            .font_wei03 { font-size: 17px; }
        </style>
    </head>
    <body id="bd_all">
        <!-- <div class="navbar navbar-inverse navbar-fixed-top"> -->

        <!-- 方案1：   以下是 “PDF生成按钮”  -->
        <!-- <div class="btn_wrap w_1680">
            <div class="btn_sty">
                <a class="btn_pdf" href="#" target="_blank">生成 PDF</a>
            </div>
        </div> -->
        <!-- 方案2：   PDF生成按钮 + 修改(跳转)按钮 -->
        <div id="fix_top" class="navbar-fixed-top fixbtn_wrap_sty w_1680">
            <div class="fixbtn_con_sty">
                <p class="fixbtn_p_sty">
                    <button type="button" id="cancel_btn" style="display:none;" class="btn btn-lg btn-default w_100">取消</button>
                    <button type="button" id="supapp_btn" style="display:none;" class="btn btn-lg btn-default marglft_15 w_100">超级审批</button>
                    <!-- <button type="button" id="gen_pdf" class="btn btn-lg btn-primary marglft_15 w_100">生成PDF</button> -->
                    <button type="button" id="gen_pdf" class="btn btn-lg btn-primary marglft_15 w_100">打印</button>
                    <button type="button" id="back_btn" style="display:none;" class="btn btn-lg btn-default marglft_15 w_100">修改</button>
                </p>
            </div>
        </div>

        <!-- 以下是 “‘白头’页面nav” -->
        <div class="nav_wrap_fff w_1680imp">
            <div class="container nav_container_fff">
                <div class="row">
                    <div class="col-xs-4">
                        <div class="logo_img">
                            <!-- <img id="logo_img" src="../yhe_resource/nio_logo_000000.png" /> -->
                            <img id="logo_img" src='data:img/jpg;base64,iVBORw0KGgoAAAANSUhEUgAAAHIAAAAoCAYAAAAiyK7sAAAAAXNSR0IArs4c6QAABv1JREFUeAHt
                                mXnIVkUUxjU/wy23sjBDUSwri9SiwEovSEnZJirtZBYR0gYhLSBZamRohX8YZITZHxUqlBtGBZXt
                                qyUtVNqGVlRampUt1u/R78Z8w5l75973vt+X+R543jtz5pwzc+eZ7c7bvl3t0p0QR4JeoEczOvHc
                                1owfeX4DPgZ/gYb8h3pgOG2ZDd4Cu8DfEdiOzRPgaiDSG9KGPXASda8CMcRl2fxEjJmgN2hIK/bA
                                QOpaA7LIKVOm5Xc66AAaUuceOI/4W0EZomJ9niN+X9CQOvRAEzHvAbFk1Gr3LXWNqcN77PMhH25F
                                EtNBsLNBZrXj7s42IDElUweh46p9nX0z2tQ2JDElcxNt6L9vdn81bz2CMPpoTzu0LZ+v0o721bzW
                                XhelKy3uVqTVfketxfmUIgHqbHsZ8ReXrONy/A53fDVA3wNLHF1MUgew0UCHv1QeJLExzfDsAqaA
                                Qx2dbrPmO/ms5DAKJ4BxYDA4AEh0ibIB6Nt9GXgH5Mr5WFQ1A/+oKNZm4hQamc5bPhVow0Po93Ps
                                spLqVGuFSjynueT9vlvv2VjZo1Dqtsv3DeWXYzvUCpTqOpP4AoQC5Olfwld76xDQCUh6g1FgDvgO
                                5MUIlesqsIyEiFQ990YGPAM7q12J57/CsMsj8lJ8fjX8rPpc3W/4aLUx5QK0rnFsWuSfbkZsqdSs
                                mgms0Z1X1xb8OrYMF5XLIlJ13hAR5UxsrPYlnu9Kwy6LyFsMe6ueLN10rw27s0tLBH4BnwOtYBk6
                                kb4DZDXQKhubETNUlEekBtWEkHOzvh5ETiL2LmC9Z1HdhW77tVEX7dyP8Cn7D8Z4fIvOzIVugyPT
                                eUSq07S0jcyIVzWRB1PXNhAiTDzoUHMHmAEeB/quDtn/TFlfsFsm8hsytPQi4dg9rqV/7ytYp/bY
                                2ANK2qgYIvV+34MjUifvWTWRC4hv9al0q0E/r35l+4AlIOT3gIwkWcEt50f2uNX0q8ZtB1b8kK5/
                                wRpjiVR9G4Bmiy9VEqlPip3Aej8N7Dy5DQPL93f0PTXKj86L4JXrqF2raIYtLhjk3yWkoF+M+SCM
                                VoAuMcYlbTQo9jd8P0B3k6H3VbNQvOYryesgeJaI1EvEyqcYvhtrnGOnA1YR0SyuVT4kgGaqJSei
                                fAx0sAor0CWBGLei10zNE21p0wJGiYjsESi01LHfX5avr3sexdu+MiPfOaMstkgXFZPAuoDD2ehj
                                b2MCIYLqwwIlTwf0llrf678YBf2aUE4B7Y3CVKV1WSNG+4hOSfoY1RKkQVBWNLo2g9FgGDgIqC1Z
                                8npWYYEy7c1a5nSXa+27U9Hr+/huUKVYK4pOsBYxoXr12aJtaYBn0Eedp+NujOgbULbdYowjbTTC
                                xgEdsVtTvqYykfki6GlUfBe6r0CV7dLFhi86AGnf1IElVnRj5suW2Fmlq6rloEoS1ZiTwTPA6kyV
                                11PeJ/h4YHWiVqhFIAFViVYgX1TPqb4yIz+CMpHvixXbt2knEnW/Zx19q9K9QfyqydShxm+fdVC7
                                CLuiNy0JPq6sJOPXtd41IK0tybdRXqtC7IRaFYhxFfpMaQ0S05ermsxYItUBN4O0HTHPRE6OxBCp
                                c8CfwIo/zYkVSl4Z8NV545CQk/StSWL6cm9Sb1UzswiRet/7QdqOvGciB0diiJT5o8CKrRVhAbC2
                                Lv2bpIOXCLN8l6IPig4C9V5OrUZJJzJ7BVsWX1CUSH0/6lIg1C5Xn3jNiCVyIH47M+rQAWsemAIm
                                Ax26NgK3bjet/X0wMKUtSUwbWQWZRYlUZ3QFWuLTdoSeCTauxBIpn+tAKG5R/Y1uI9x0FSQuIuAV
                                QP+QFG2Ya18rmWWIpMm795usWaA2JjJ0pAiRciuyjLt94qYXOvW3SFZBojtCtNe9AtzKi6ZrIdMi
                                cl2LNw5nhlD0Q0bbE8+1KJH67JgOip6W1X/yuR0ohikz0BbtaNf+eiOqvnleriGu9ulBRtwYlUXk
                                shjHZht94+4A7jum6aTZJn0UJTL1G0NC15Rp3LynBuJpqbP7bHIyc0hPBgMcXWxSJM43jLejGwvW
                                gJFGeZ5qLgZa5sqILjA+cRw1w3QyjBXdOp0ALga6j3ZnwCbyrojIz10F6ZiP9GexOx6cAyYCrYq9
                                gStbyawGGoRPAs3IXDkXi7xR4Zdr884TzUx1jO+blf8M+y55gf+H5SJyKDgG+KQWet15WGd1sFsW
                                Q2JaeREydZE8PHVsPMv1QAfcNOVdwqz0tSXCx5J5SYnYDRejB7qjWwssAqUrQ2JaTRaZWv9riZ3W
                                0Xg6PaD9SYcUn8wqOlpk6rLYja17yMmgIXXogY7EnA3Se75rKqzDJfNL4iYVxm6ECvTAKPS6fa9a
                                uhFwFqjqorzq9u018f4BSsB/gPWLhW4AAAAASUVORK5CYII='/>
                        </div>
                    </div>
                    <div class="col-xs-4">
                        <div class="hcenter">
                            <h2 class="title_margin group01">制造现场变更-试制阶段</h2>
                            <span class="fsize_18px group02">BUILD SITE DEVIATION -  Before PP</span>
                        </div>
                    </div>
                    <div class="col-xs-4 hright paddrgt_36">
                        <div class="nav_divedt_marg">
                            <div class="inline_block">
                                <div class="hright nav_bianzhi_sty fsize_18px">编制</div>
                                <span class="fsize_18px">Edit By</span>
                            </div>
                            <div class="nav_divarr_sty">
                                <div class="nav_arr_sty fsize_18px">CD-PM, VI VAL, ME</div>
                            </div>
                        </div>
                        <span class="nav_ver_sty">Version 4.5</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- 以下主区 -->
        <div class="main_wrap w_1680imp">
            <div class="container theme-showcase main_container" role="main">
                <div class="row">
                    <!-- <div class="col-xs-12"> -->
                        <table id="tb_01" class="table table-bordered margbtm_0">
                            <thead>
                                <tr class="cell_h_60px">
                                    <th colspan="6" class="tbx_title_sty to_middle_posi paddlft_20 bg_E6FAFA group02">BSD提交区域，由提交者填写 ABOVE THE LINE IS SUBMIT AREA, FILLED BY SUBMITTER</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="cell_h_60px">
                                    <td class="to_right_side w_190 font_bold col-xs-2 group03">
                                        <div>项目号</div>
                                        <div>Program</div>
                                    </td>
                                    <td colspan="2" class="to_middle_posi col-xs-4 group03" id="program"></td>
                                    <td class="to_right_side w_190 font_bold col-xs-2 group03">
                                        <div>涉及阶段</div>
                                        <div>Impact Phase</div>
                                    </td>
                                    <td colspan="2" class="to_middle_posi col-xs-4 group03" id="impact_phase"></td>
                                </tr>
                                <tr class="cell_h_60px">
                                    <td class="to_right_side font_bold group03">
                                        <div>BSD编号</div>
                                        <div>BSD No.</div>
                                    </td>
                                    <td colspan="2" class="to_middle_posi group03" id="bsd_no"></td>
                                    <td class="to_right_side font_bold group03">
                                        <div>发起部门</div>
                                        <div>Submit Department</div>
                                    </td>
                                    <td colspan="2" class="to_middle_posi group03" id="sub_dep"></td>
                                </tr>
                                <tr class="cell_h_60px">
                                    <td class="to_right_side font_bold group03">
                                        <div>发起人</div>
                                        <div>Submitter</div>
                                    </td>
                                    <td colspan="2" class="to_middle_posi group03" id="submitter"></td>
                                    <td class="to_right_side font_bold group03">
                                        <div>实施阶段</div>
                                        <div>Application Date</div>
                                    </td>
                                    <td colspan="2" class="to_middle_posi group03" id="app_date"></td>
                                </tr>
                                <tr class="cell_h_60px">
                                    <td class="to_right_side font_bold group03">
                                        <div>影响车辆</div>
                                        <div>Affected Vehicles</div>
                                    </td>
                                    <td colspan="2" class="to_middle_posi group03" id="aff_veh"></td>
                                    <td class="to_right_side font_bold group03">
                                        <div>问题严重度定义</div>
                                        <div>Severity Definition</div>
                                    </td>
                                    <td colspan="2" class="to_middle_posi group03" id="severity_def"></td>
                                </tr>
                                <tr class="cell_h_60px">
                                    <td class="to_right_side font_bold group03">
                                        <div>审批清单</div>
                                        <div>Reviewer List</div>
                                    </td>
                                    <td colspan="5" class="to_middle_posi group03" id="reviewer_list"></td>
                                </tr>
                                <tr class="cell_h_60px">
                                    <td class="to_right_side font_bold group03">
                                        <div>影响区域</div>
                                        <div>Affected SMTs</div>
                                    </td>
                                    <td colspan="5" class="to_middle_posi group03" id="affected_smts"></td>
                                </tr>
                                <tr class="cell_h_60px">
                                    <td class="to_right_side font_bold group03">
                                        <div>影响关键特性</div>
                                        <div>CC/SC Impacted</div>
                                    </td>
                                    <td class="to_middle_posi together_cell w_190 posi_relative" >
                                        <div class="inline_block font_bold group03">
                                            <div>零件</div>
                                            <div>Part</div>
                                        </div>
                                        <div class="inline_block posi_absolute tb1_part_sty group03" id="part" ></div>
                                    </td>
                                    <td class="together_cell posi_relative vcenter con_impacn_sty">
                                        <div class="inline_block font_bold group03">
                                            <div>厂内</div>
                                            <div>In house</div>
                                        </div>
                                        <div class="inline_block posi_absolute tb1_inhouse_sty group03" id="in_house" ></div>
                                    </td>
                                    <td colspan="3" class="together_cell"></td>
                                </tr>
                                <tr class="cell_h_60px">
                                    <td class="to_right_side font_bold group03">
                                        <div>问题描述</div>
                                        <div>Issue Description</div>
                                    </td>
                                    <td colspan="5" id="issue_des" class="to_middle_posi group03"></td>
                                </tr>
                                <tr class="cell_h_60px">
                                    <td rowspan="2" class="to_right_side to_middle_posi font_bold col-xs-2 group03">
                                        <div>更改操作描述</div>
                                        <div>Corrective Action Plan Description</div>
                                    </td>
                                    <td class="font_bold col-xs-1 to_right_side group03">
                                        <div>短期措施</div>
                                        <div>Short Term</div>
                                    </td>
                                    <td colspan="4" id="short_term" class="to_middle_posi col-xs-9 group03"></td>
                                </tr>
                                <tr class="cell_h_60px">
                                    <td class="font_bold to_right_side group03">
                                        <div>长期措施</div>
                                        <div>Long Term</div>
                                    </td>
                                    <td colspan="4" id="long_term" class="to_middle_posi group03"></td>
                                </tr>
                                <tr class="cell_h_60px">
                                    <td class="to_right_side font_bold group03">
                                        <div>更改类型</div>
                                        <div>Type of Change</div>
                                    </td>
                                    <td colspan="5" id="type_of_change" class="to_middle_posi group03"></td>
                                </tr>
                                <tr class="cell_h_60px">
                                    <td colspan="6" class="hcenter font_bold to_middle_posi group02">零件信息 Part Information</td>
                                </tr>
                            </tbody>
                        </table>
                        <table id="tb_02" class="table table-bordered table-striped margbtm_0 border_0">
                            <thead>
                                <tr class="cell_th_87px">
                                    <th class="to_middle_posi hcenter group03">
                                        <div>编号</div>
                                        <div>Item No.</div>
                                    </th>
                                    <th class="to_middle_posi hcenter group03">
                                        <div>零件号</div>
                                        <div>Part No.</div>
                                    </th>
                                    <th class="to_middle_posi hcenter group03">
                                        <div>零件名称</div>
                                        <div>Part Name</div>
                                    </th>
                                    <th class="to_middle_posi hcenter group03">
                                        <div>版本</div>
                                        <div>Revision</div>
                                    </th>
                                    <th class="to_middle_posi hcenter group03">
                                        <div>零件状态</div>
                                        <div>Part Status</div>
                                    </th>
                                    <th class="to_middle_posi hcenter group03">
                                        <div>增加/删除/更改</div>
                                        <div>Add/Delete/Modify</div>
                                    </th>
                                    <th class="to_middle_posi hcenter group03">
                                        <div>数量</div>
                                        <div>Qty</div>
                                    </th>
                                    <th class="to_middle_posi hcenter group03">
                                        <div>车间</div>
                                        <div>Shop</div>
                                    </th>
                                    <th class="to_middle_posi hcenter group03">
                                        <div>采购信息</div>
                                        <div>Make/Buy/Child</div>
                                    </th>
                                    <th class="to_middle_posi hcenter group03">
                                        <div>相关CR</div>
                                        <div>Related CR</div>
                                    </th>
                                    <th class="to_middle_posi hcenter group03">
                                        <div>零件到货时间</div>
                                        <div>Arriving Date</div>
                                    </th>
                                    <th class="to_middle_posi hcenter group03">
                                        <div>备注</div>
                                        <div>Remarks</div>
                                    </th>
                                </tr>
                            </thead>
                            <tbody id="info_tbd" class="group03">
                            </tbody>
                        </table>
                    </div>
                    <div class="row">
                        <table id="tb_03" class="table table-bordered">
                            <tbody >
                                <tr class="cell_h_60px">
                                    <td class="to_right_side w_190 font_bold col-xs-2 group03">
                                        <div>实施方式</div>
                                        <div>Operation</div>
                                    </td>
                                    <td colspan="5" id="operation" class="to_middle_posi col-xs-10 group03"></td>
                                </tr>
                                <tr class="cell_h_60px">
                                    <td colspan="6" >
                                        <div class="to_right_side inline_block marglft_30 font_bold group03">
                                            <div>相关图纸与文件已由DRE作为附件提供</div>
                                            <div>Related documents are provided by DRE as attachment</div>
                                        </div>
                                        <div class="inline_block con_sprst_sty"><span id="dre" class="tb3_xgtzyes_sty group03"></span></div>
                                        <div class="inline_block marglft_150 group03">
                                            <div>注意！该流程最长有效期为一个造车阶段</div>
                                            <div>Attention! Maximum valid period is one build phases</div>
                                        </div>
                                    </td>
                                </tr>
                                <tr class="cell_h_60px">
                                    <td class="to_right_side font_bold group03">
                                        <div>特殊指导</div>
                                        <div>Special Instruction</div>
                                    </td>
                                    <td colspan="5" id="instruction" class="to_middle_posi group03"></td>
                                </tr>
                            </tbody>
                        </table>
                        <table id="tb_04" class="table table-bordered" >
                            <thead>
                                <tr class="cell_h_60px">
                                    <th colspan="6" class="tbx_title_sty to_middle_posi paddlft_20 bg_E6FAFA group02">审批区域，由DRE/VI/PQM/MFG签署 ABOVE THE LINE IS APPROVE AREA, SIGNED BY DRE/VI/PQM/MFG</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="cell_h_60px">
                                    <td colspan="2" class="to_right_side font_bold group03">
                                        <div>是否影响本子系统内零件的试验认证结果</div>
                                        <div>Effect test and validation of BSD related parts</div>
                                    </td>
                                    <td class="to_middle_posi w_190 group03" id="related_part" ></td>
                                    <td colspan="2" class="to_right_side font_bold group03">
                                        <div>是否影响其它子系统零件的试验认证结果</div>
                                        <div>Effect test and validation of other SMT parts</div>
                                    </td>
                                    <td class="to_middle_posi w_190 group03" id="smt_part" ></td>
                                </tr>
                                <tr class="cell_h_60px">
                                    <td class="to_right_side w_190 font_bold group03">
                                        <div>影响区域</div>
                                        <div>Affected Areas</div>
                                    </td>
                                    <td colspan="5" id="aff_areas" class="to_middle_posi group03"></td>
                                </tr>
                                <tr class="cell_h_60px">
                                    <td rowspan="2" class="to_right_side to_middle_posi font_bold group03">
                                        <div>MFG评估</div>
                                        <div>MFG Evaluation</div>
                                    </td>
                                    <td class="to_right_side w_190 font_bold group03">
                                        <div>区域</div>
                                        <div>Area</div>
                                    </td>
                                    <td colspan="4" id="mfg_area" class="to_middle_posi group03"></td>
                                </tr>
                                <tr class="cell_h_60px">
                                    
                                    <td class="to_right_side font_bold group03">
                                        <div>类型</div>
                                        <div>Type</div>
                                    </td>
                                    <td colspan="4" id="mfq_type" class="to_middle_posi group03"></td>
                                </tr>
                            </tbody>
                        </table>
                        <table id="tb_05" class="table table-bordered">
                            <thead>
                                <tr class="cell_h_60px">
                                    <th colspan="6" class="tbx_title_sty to_middle_posi paddlft_20 bg_E6FAFA group02">审批区域，由DRE/VI/PQM/MFG签署 ABOVE THE LINE IS APPROVE AREA, SIGNED BY DRE/VI/PQM/MFG</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="cell_h_60px">
                                    <td rowspan="4" class="w_190">
                                        <div class="to_right_side font_bold group03">
                                            <div>现场实施确认</div>
                                            <div>Onsite Confirm</div>
                                        </div>
                                        <div class="to_right_side margtp_21 font_bold group03">
                                            <div>签字</div>
                                            <div>Sign</div>
                                        </div>
                                        <div class="to_right_side margtp_21 font_bold group03">
                                            <div>现场实施确认</div>
                                            <div>Onsite Confirm</div>
                                        </div>
                                        <div class="to_right_side margtp_18 font_bold group03">
                                            <div>签字</div>
                                            <div>Sign</div>
                                        </div>
                                    </td>
                                    <td class="sign_cell tb05_td_hcenter sign_title_middle group03">
                                        <div>工程师</div>
                                        <div>DRE</div>
                                    </td>
                                    <td class="sign_cell tb05_td_hcenter sign_title_middle group03">
                                        <div>整车工程</div>
                                        <div>VI</div>
                                    </td>
                                    <td class="sign_cell tb05_td_hcenter sign_title_middle group03">
                                        <div>零件质量</div>
                                        <div>PQM</div>
                                    </td>
                                    <td class="sign_cell tb05_td_hcenter sign_title_middle group03">
                                        <div>工程质量</div>
                                        <div>EQ</div>
                                    </td>
                                    <td class="sign_cell tb05_td_hcenter sign_title_middle group03">
                                        <div>制造质量</div>
                                        <div>MFQ</div>
                                    </td>
                                </tr>
                                <tr class="tb05_tr_hcenter cell_h_60px">
                                    <td class="sign_cell sign_line_bottom">________________</td>
                                    <td class="sign_cell sign_line_bottom">________________</td>
                                    <td class="sign_cell sign_line_bottom">________________</td>
                                    <td class="sign_cell sign_line_bottom">________________</td>
                                    <td class="sign_cell sign_line_bottom">________________</td>
                                </tr>
                                <tr class="tb05_tr_hcenter cell_h_60px">
                                    <td class="sign_cell sign_title_middle group03">
                                        <div>物流</div>
                                        <div>Logistic</div>
                                    </td>
                                    <td class="sign_cell sign_title_middle group03">
                                        <div>制造</div>
                                        <div>MFG</div>
                                    </td>
                                    <td class="sign_cell sign_title_middle group03">
                                        <div>制造</div>
                                        <div>HF AMTECH</div>
                                    </td>
                                    <td class="sign_cell sign_title_middle group03">
                                        <div>其它</div>
                                        <div>Others</div>
                                    </td>
                                    <td class="sign_cell sign_title_middle group03">
                                        <div>其它</div>
                                        <div>Others</div>
                                    </td>
                                </tr>
                                <tr class="tb05_tr_hcenter cell_h_60px">
                                    <td class="sign_cell sign_line_bottom">________________</td>
                                    <td class="sign_cell sign_line_bottom">________________</td>
                                    <td class="sign_cell sign_line_bottom">________________</td>
                                    <td class="sign_cell sign_line_bottom">________________</td>
                                    <td class="sign_cell sign_line_bottom">________________</td>
                                </tr>
                                <tr class="cell_h_120px">
                                    <td colspan="2" class="hcenter to_bottom_pposi">
                                        <div class="inline_block hright font_bold group03">
                                            <div>批准(NIO)</div>
                                            <div>Approve(NIO)</div>
                                        </div>
                                        <div class="inline_block">&nbsp;&nbsp;&nbsp;&nbsp;_____________________</div>
                                    </td>
                                    <td colspan="2" class="hcenter to_bottom_pposi">
                                        <div class="inline_block hright font_bold group03">
                                            <div>签收(工厂)</div>
                                            <div>Accept(Plant)</div>
                                        </div>
                                        <div class="inline_block">&nbsp;&nbsp;&nbsp;&nbsp;_____________________</div>
                                    </td>
                                    <td colspan="2" class="hcenter to_bottom_pposi">
                                        <div class="inline_block hright font_bold group03">
                                            <div>日期</div>
                                            <div>Date</div>
                                        </div>
                                        <div class="inline_block">&nbsp;&nbsp;&nbsp;&nbsp;_____________________</div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    <!-- </div> -->
                </div>
            </div>
        </div>

        <div id="wm_wrap" class="w_1680">
            <div class="wm_div_sty"><div class="water_mark wm_font"></div></div>
            <div class="wm_div_sty margtp_400"><div class="water_mark wm_font"></div></div>
            <div class="wm_div_sty margtp_400"><div class="water_mark wm_font"></div></div>
            <div class="wm_div_sty margtp_400"><div class="water_mark wm_font"></div></div>
        </div>
        
        <!-- <div id="loading_icon" style="position: absolute;top:450px;left:785px;display:none;"> -->
        <div id="loading_icon" style="position: absolute;top:450px;left:785px;">
            <!-- <img src="../yhe_resource/loading_0.gif" /> -->
            <img src='data:img/jpg;base64,R0lGODlhgACAAKIAAP///93d3bu7u5mZmQAA/wAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh
                +QQFBQAEACwCAAIAfAB8AAAD/0i63P4wygYqmDjrzbtflvWNZGliYXiubKuloivPLlzReD7al+7/
                Eh5wSFQIi8hHYBkwHUmD6CD5YTJLz49USuVYraRsZ7vtar7XnQ1Kjpoz6LRHvGlz35O4nEPP2O94
                EnpNc2sef1OBGIOFMId/inB6jSmPdpGScR19EoiYmZobnBCIiZ95k6KGGp6ni4wvqxilrqBfqo6s
                kLW2YBmjDa28r6Eosp27w8Rov8ekycqoqUHODrTRvXsQwArC2NLF29UM19/LtxO5yJd4Au4CK7DU
                NxPebG4e7+8n8iv2WmQ66BtoYpo/dvfacBjIkITBE9DGlMvAsOIIZjIUAixliv9ixYZVtLUos5Gj
                wI8gzc3iCGghypQqrbFsme8lwZgLZtIcYfNmTJ34WPTUZw5oRxdD9w0z6iOpO15MgTh1BTTJUKos
                39jE+o/KS64IFVmsFfYT0aU7capdy7at27dw48qdS7eu3bt480I02vUbX2F/JxYNDImw4GiGE/P9
                qbhxVpWOI/eFKtlNZbWXuzlmG1mv58+gQ4seTbq06dOoU6vGQZJy0FNlMcV+czhQ7SQmYd8eMhPs
                5BxVdfcGEtV3buDBXQ+fURxx8oM6MT9P+Fh6dOrH2zavc13u9JXVJb520Vp8dvC76wXMuN5Sepm/
                1WtkEZHDefnzR9Qvsd9+/wi8+en3X0ntYVcSdAE+UN4zs7ln24CaLagghIxBaGF8kFGoIYV+Ybgh
                h841GIyI5ICIFoklJsigihmimJOLEbLYIYwxSgigiZ+8l2KB+Ml4oo/w8dijjcrouCORKwIpnJIj
                MnkkksalNeR4fuBIm5UEYImhIlsGCeWNNJphpJdSTlkml1jWeOY6TnaRpppUctcmFW9mGSaZceYo
                pH9zkjnjUe59iR5pdapWaGqHopboaYua1qije67GJ6CuJAAAIfkEBQUABAAsCgACAFcAMAAAA/9I
                utz+ML5Ag7w46z0r5WAoSp43nihXVmnrdusrv+s332dt4Tyo9yOBUJD6oQBIQGs4RBlHySSKyczV
                TtHoidocPUNZaZAr9F5FYbGI3PWdQWn1mi36buLKFJvojsHjLnshdhl4L4IqbxqGh4gahBJ4eY1k
                iX6LgDN7fBmQEJI4jhieD4yhdJ2KkZk8oiSqEaatqBekDLKztBG2CqBACq4wJRi4PZu1sA2+v8C6
                EJexrBAD1AOBzsLE0g/V1UvYR9sN3eR6lTLi4+TlY1wz6Qzr8u1t6FkY8vNzZTxaGfn6mAkEGFDg
                L4LrDDJDyE4hEIbdHB6ESE1iD4oVLfLAqPETIsOODwmCDJlv5MSGJklaS6khAQAh+QQFBQAEACwf
                AAIAVwAwAAAD/0i63P5LSAGrvTjrNuf+YKh1nWieIumhbFupkivPBEzR+GnnfLj3ooFwwPqdAshA
                azhEGUXJJIrJ1MGOUamJ2jQ9QVltkCv0XqFh5IncBX01afGYnDqD40u2z76JK/N0bnxweC5sRB9v
                F34zh4gjg4uMjXobihWTlJUZlw9+fzSHlpGYhTminKSepqebF50NmTyor6qxrLO0L7YLn0ALuhCw
                CrJAjrUqkrjGrsIkGMW/BMEPJcphLgDaABjUKNEh29vdgTLLIOLpF80s5xrp8ORVONgi8PcZ8zlR
                Jvf40tL8/QPYQ+BAgjgMxkPIQ6E6hgkdjoNIQ+JEijMsasNY0RQix4gKP+YIKXKkwJIFF6JMudFE
                AgAh+QQFBQAEACw8AAIAQgBCAAAD/kg0PPowykmrna3dzXvNmSeOFqiRaGoyaTuujitv8Gx/661H
                tSv8gt2jlwIChYtc0XjcEUnMpu4pikpv1I71astytkGh9wJGJk3QrXlcKa+VWjeSPZHP4Rtw+I2O
                W81DeBZ2fCB+UYCBfWRqiQp0CnqOj4J1jZOQkpOUIYx/m4oxg5cuAaYBO4Qop6c6pKusrDevIrG2
                rkwptrupXB67vKAbwMHCFcTFxhLIt8oUzLHOE9Cy0hHUrdbX2KjaENzey9Dh08jkz8Tnx83q66bt
                8PHy8/T19vf4+fr6AP3+/wADAjQmsKDBf6AOKjS4aaHDgZMeSgTQcKLDhBYPEswoA1BBAgAh+QQF
                BQAEACxOAAoAMABXAAAD7Ei6vPOjyUkrhdDqfXHm4OZ9YSmNpKmiqVqykbuysgvX5o2HcLxzup8o
                KLQQix0UcqhcVo5ORi+aHFEn02sDeuWqBGCBkbYLh5/NmnldxajX7LbPBK+PH7K6narfO/t+SIBw
                fINmUYaHf4lghYyOhlqJWgqDlAuAlwyBmpVnnaChoqOkpaanqKmqKgGtrq+wsbA1srW2ry63uras
                u764Jr/CAb3Du7nGt7TJsqvOz9DR0tPU1TIA2ACl2dyi3N/aneDf4uPklObj6OngWuzt7u/d8fLY
                9PXr9eFX+vv8+PnYlUsXiqC3c6PmUUgAACH5BAUFAAQALE4AHwAwAFcAAAPpSLrc/m7IAau9bU7M
                O9GgJ0ZgOI5leoqpumKt+1axPJO1dtO5vuM9yi8TlAyBvSMxqES2mo8cFFKb8kzWqzDL7Xq/4LB4
                TC6bz1yBes1uu9uzt3zOXtHv8xN+Dx/x/wJ6gHt2g3Rxhm9oi4yNjo+QkZKTCgGWAWaXmmOanZhg
                np2goaJdpKGmp55cqqusrZuvsJays6mzn1m4uRAAvgAvuBW/v8GwvcTFxqfIycA3zA/OytCl0tPP
                O7HD2GLYvt7dYd/ZX99j5+Pi6tPh6+bvXuTuzujxXens9fr7YPn+7egRI9PPHrgpCQAAIfkEBQUA
                BAAsPAA8AEIAQgAAA/lIutz+UI1Jq7026h2x/xUncmD5jehjrlnqSmz8vrE8u7V5z/m5/8CgcEgs
                Go/IpHLJbDqf0Kh0ShBYBdTXdZsdbb/Yrgb8FUfIYLMDTVYz2G13FV6Wz+lX+x0fdvPzdn9WeoJG
                AYcBN39EiIiKeEONjTt0kZKHQGyWl4mZdREAoQAcnJhBXBqioqSlT6qqG6WmTK+rsa1NtaGsuEu6
                o7yXubojsrTEIsa+yMm9SL8osp3PzM2cStDRykfZ2tfUtS/bRd3ewtzV5pLo4eLjQuUp70Hx8t9E
                9eqO5Oku5/ztdkxi90qPg3x2EMpR6IahGocPCxp8AGtigwQAIfkEBQUABAAsHwBOAFcAMAAAA/9I
                utz+MMo36pg4682J/V0ojs1nXmSqSqe5vrDXunEdzq2ta3i+/5DeCUh0CGnF5BGULC4tTeUTFQVO
                NYAs4CfoCkZPjFar83rBx8l4XDObSUL1Ott2d1U4yZwcs5/xSBB7dBMBhgEYfncrTBGDW4WHhomK
                UY+QEZKSE4qLRY8YmoeUfkmXoaKInJ2fgxmpqqulQKCvqRqsP7WooriVO7u8mhu5NacasMTFMMHC
                m8qzzM2RvdDRK9PUwxzLKdnaz9y/Kt8SyR3dIuXmtyHpHMcd5+jvWK4i8/TXHff47SLjQvQLkU+f
                G29rUhQ06IkEG4X/Rryp4mwUxSgLL/7IqFETB8eONT6ChCFy5ItqJomES6kgAQAh+QQFBQAEACwK
                AE4AVwAwAAAD/0i63A4QuEmrvTi3yLX/4MeNUmieITmibEuppCu3sDrfYG3jPKbHveDktxIaF8TO
                cZmMLI9NyBPanFKJp4A2IBx4B5lkdqvtfb8+HYpMxp3Pl1qLvXW/vWkli16/3dFxTi58ZRcChwIY
                f3hWBIRchoiHiotWj5AVkpIXi4xLjxiaiJR/T5ehoomcnZ+EGamqq6VGoK+pGqxCtaiiuJVBu7ya
                Hrk4pxqwxMUzwcKbyrPMzZG90NGDrh/JH8t72dq3IN1jfCHb3L/e5ebh4ukmxyDn6O8g08jt7tf2
                6ybz+m/W9GNXzUQ9fm1Q/APoSWAhhfkMAmpEbRhFKwsvCsmosRIHx444PoKcIXKkjIImjTzjkQAA
                IfkEBQUABAAsAgA8AEIAQgAAA/VIBNz+8KlJq72Yxs1d/uDVjVxogmQqnaylvkArT7A63/V47/m2
                /8CgcEgsGo/IpHLJbDqf0Kh0Sj0FroGqDMvVmrjgrDcTBo8v5fCZki6vCW33Oq4+0832O/at3+f7
                fICBdzsChgJGeoWHhkV0P4yMRG1BkYeOeECWl5hXQ5uNIAOjA1KgiKKko1CnqBmqqk+nIbCkTq20
                taVNs7m1vKAnurtLvb6wTMbHsUq4wrrFwSzDzcrLtknW16tI2tvERt6pv0fi48jh5h/U6Zs77EXS
                N/BE8jP09ZFA+PmhP/xvJgAMSGBgQINvEK5ReIZhQ3QEMTBLAAAh+QQFBQAEACwCAB8AMABXAAAD
                50i6DA4syklre87qTbHn4OaNYSmNqKmiqVqyrcvBsazRpH3jmC7yD98OCBF2iEXjBKmsAJsWHDQK
                mw571l8my+16v+CweEwum8+hgHrNbrvbtrd8znbR73MVfg838f8BeoB7doN0cYZvaIuMjY6PkJGS
                k2gClgJml5pjmp2YYJ6dX6GeXaShWaeoVqqlU62ir7CXqbOWrLafsrNctjIDwAMWvC7BwRWtNsbG
                FKc+y8fNsTrQ0dK3QtXAYtrCYd3eYN3c49/a5NVj5eLn5u3s6e7x8NDo9fbL+Mzy9/T5+tvUzdN3
                Zp+GBAAh+QQJBQAEACwCAAIAfAB8AAAD/0i63P4wykmrvTjrzbv/YCiOZGmeaKqubOu+cCzPdArc
                QK2TOL7/nl4PSMwIfcUk5YhUOh3M5nNKiOaoWCuWqt1Ou16l9RpOgsvEMdocXbOZ7nQ7DjzTaeq7
                zq6P5fszfIASAYUBIYKDDoaGIImKC4ySH3OQEJKYHZWWi5iZG0ecEZ6eHEOio6SfqCaqpaytrpOw
                JLKztCO2jLi1uoW8Ir6/wCHCxMG2x7muysukzb230M6H09bX2Nna29zd3t/g4cAC5OXm5+jn3Ons
                7eba7vHt2fL16tj2+QL0+vXw/e7WAUwnrqDBgwgTKlzIsKHDh2gGSBwAccHEixAvaqTYcFCjRoYe
                NyoM6REhyZIHT4o0qPIjy5YTTcKUmHImx5cwE85cmJPnSYckK66sSAAj0aNIkypdyrSp06dQo0qd
                SrWq1atYs2rdyrWr169gwxZJAAA7'/>
        </div>
        <div id="for_canvas" style="display:none"></div>
        
        <!-- jQuery (Bootstrap 的所有 JavaScript 插件都依赖 jQuery，所以必须放在前边) -->
        <script src="https://cdn.bootcss.com/jquery/1.12.4/jquery.min.js"></script>
        <!-- 加载 Bootstrap 的所有 JavaScript 插件。你也可以根据需要只加载单个插件。 -->
        <script src="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
        <!-- <script src="../yhe_resource/html2canvas.min.js"></script> -->
        <script src="https://cdn.bootcss.com/html2canvas/0.5.0-beta4/html2canvas.min.js"></script>
        <!-- <script src="../yhe_resource/jsPdf.debug.js"></script> -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.5/jspdf.debug.js" integrity="sha384-CchuzHs077vGtfhGYl9Qtc7Vx64rXBXdIAZIPbItbNyWIRTdG0oYAqki3Ry13Yzu" crossorigin="anonymous"></script>
        <script>

            function getUrlParam(name) {  
                var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)"); // 构造一个含有目标参数的正则表达式对象  
                var r = window.location.search.substr(1).match(reg);  // 匹配目标参数  
                if (r != null) return unescape(r[2]); return null; // 返回参数值  
            }

            $(document).ready(function(){
                var objectId = getUrlParam('objectId');
                // var objectId = '123';
                var wm_msg = '- 状态未知 -';
                var reviewer_list = "";
                var program = "";
                var bsdno = "BSD-x";
                
                // NIO后台方向 对接 ajax【联调开放！！】
                //以下是  AJAX A！【联调开启】
                $.ajax({
                    type: "GET",
                    dataType: "json",
                    data: {"objectId": objectId},
                    url: "bsdData.jsp" ,//url
                    success: function (result) {
                        console.log(result);
                        // ("SUCCESS");
                        console.log("SUCCESS");

                        if(/Create/.exec(result["data"]["current"])){
                            wm_msg = "Create 创建";
                        }else if(/Evaluate/.exec(result["data"]["current"])){
                            wm_msg = "Evaluate 评审中";
                        }else if(/Approved/.exec(result["data"]["current"])){
                            wm_msg = "Approved 批准";
                        }else if(/Implemented/.exec(result["data"]["current"])){
                            wm_msg = "Implemented 实施";
                        }else if(/Failed/.exec(result["data"]["current"])){
                            wm_msg = "Failed 失败";
                        }

                        program = result["data"]["program"];
                        $("#program").text(result["data"]["program"]);
                        $("#impact_phase").text(result["data"]["impactPhase"]);
                        $("#bsd_no").text(result["data"]["bsdNo"]);
                        bsdno =  "" + result["data"]["bsdNo"];
                        $("#sub_dep").text(result["data"]["subDep"]);
                        $("#submitter").text(result["data"]["submitter"]+"--"+result["data"]["email"]);
                        $("#app_date").text(result["data"]["appDate"]);
                        $("#aff_veh").text(result["data"]["affVeh"]);
                        $("#severity_def").text(result["data"]["severityDef"]);
                        
                        $("#reviewer_list").text(result["data"]["reviewName"]);
                        $("#affected_smts").text(result["data"]["affectedSMTs"]);
                        $("#part").text(result["data"]["part"]);
                        $("#in_house").text(result["data"]["inHouse"]);
                        $("#issue_des").text(result["data"]["issueDes"]);
                        $("#short_term").text(result["data"]["shortTerm"]);
                        $("#long_term").text(result["data"]["longTerm"]);
                        $("#type_of_change").text(result["data"]["typeOfChange"]);

                        // for render
                        var tbd = $("#info_tbd");
                        for(var i=0; i<result["data"]["partInformation"].length; i++){
                            var tds = $('<tr><td id="itemno_'+i+'"></td><td id="partno_'+i+'"></td><td id="partname_'+i+'"></td><td id="rev_'+i+'"></td><td id="sta_'+i+'"></td><td id="change_'+i+'"></td><td id="qty_'+i+'"></td><td id="shop_'+i+'"></td><td id="makeorbuy_'+i+'"></td><td id="relatedcr_'+i+'"></td><td id="arrivingdate_'+i+'"></td><td id="reamrks_'+i+'"></td></tr>');
                            tbd.append(tds);
                            $("#itemno_"+i+"").text(i+1);
                            $("#partno_"+i+"").text(result["data"]["partInformation"][i]["partNo"]);
                            $("#partname_"+i+"").text(result["data"]["partInformation"][i]["partName"]);
                            $("#rev_"+i+"").text(result["data"]["partInformation"][i]["rev"]);
                            $("#sta_"+i+"").text(result["data"]["partInformation"][i]["status"]);
                            $("#change_"+i+"").text(result["data"]["partInformation"][i]["change"]);
                            $("#qty_"+i+"").text(result["data"]["partInformation"][i]["qty"]);
                            $("#shop_"+i+"").text(result["data"]["partInformation"][i]["shop"]);
                            $("#makeorbuy_"+i+"").text(result["data"]["partInformation"][i]["makeorbuy"]);
                            $("#relatedcr_"+i+"").text(result["data"]["partInformation"][i]["relatedCR"]);
                            $("#arrivingdate_"+i+"").text(result["data"]["partInformation"][i]["arrivingDate"]);
                            $("#reamrks_"+i+"").text(result["data"]["partInformation"][i]["remarks"]);
                        }
                        var tdx = $('<tr><td colspan="12" height="3px" class="borderbtm_0"></td></tr>');
                        tbd.append(tdx);

                        $("#operation").text(result["data"]["operation"]);
                        $("#dre").text(result["data"]["dre"]);
                        $("#instruction").text(result["data"]["instruction"]);
                        $("#related_part").text(result["data"]["relatedPart"]);
                        $("#smt_part").text(result["data"]["smtPart"]);
                        $("#aff_areas").text(result["data"]["affAreas"]);
                        $("#mfg_area").text(result["data"]["mfgArea"]);
                        $("#mfq_type").text(result["data"]["mfqType"]);
                        $(".water_mark").text(result["data"]["current"]);

                        $("#loading_icon").css("display", "none");
                    },
                    error : function(e,r,a) {
                        $("#loading_icon").css("display", "none");
                        // alert("异常！");
                        console.log("异常！");
                    }
                });
                $.ajax({
                    type: "POST",
                    dataType: "json",
                    data: {"objectId": objectId},
                    url: "powerCancel.jsp" ,
                    success: function(result){
                        //这里的result 两个结果： true/false
                        //处理逻辑(控制“ 取消 ”按钮)
                        if(result["cancelFlag"] === 'true'){
                            $("#cancel_btn").css("display", "");
                            $("#back_btn").css("display", "");
                        }else{
                            $("#cancel_btn").css("display", "none");
                            $("#back_btn").css("display", "none");
                        }
                        
                    },
                    error:function(e,r,a){
                        // alert("异常！（取消 按钮显示与否）");
                        console.log("异常！（取消 按钮显示与否）");
                    }
                });
                $.ajax({
                    type: "POST",
                    dataType: "json",
                    data: {"objectId": objectId},
                    url: "powerSuperApprove.jsp" ,
                    success: function(result){
                        //这里的result 两个结果： true/false
                        //处理逻辑(控制“ 超级审批 ”按钮)
                        if(result["superFlag"] === 'true'){
                            $("#supapp_btn").css("display", "");
                        }else{
                            $("#supapp_btn").css("display", "none");
                        }
                    },
                    error:function(e,r,a){
                        // alert("异常！（超级审批 按钮显示与否）");
                        console.log("异常！（超级审批 按钮显示与否）");
                    }
                });
                //以上是  AJAX A/2/3 【联调开启】


                // 以下是数据 json data AJAX1/2/3 【联调关闭】
                // var rst = {
                //     "data":{
                //         "program": "ES8",                   		 //----项目号
                //         "impactPhase": "Before PP",				 	//----涉及阶段
                //         "bsdNo": "xxx",								 //----BSD编号
                //         "subDep": "XXX",							//----PQM
                //         "submitter": "XXX",							//----发起人
                //         "appDate": "XXX",							//----实施阶段，如果是时间阶段以	2018-3-1~2018-3-29”
                //         "affVeh": "XXX",   							//----影响车辆
                //         "severityDef": ["A","B"],					//----问题严重定义
                //         "reviewerList": [
                //             {
                //                 "reviewId": "1",
                //                 "reviewName": "yoyogi"
                //             },{
                //                 "reviewId": "2",
                //                 "reviewName": "JAY FAN"
                //             }
                //         ],
                //         "affectedSMTs": ["BODY","CHASS"],			//-----影响区域
                //         "part": "yes",								//----零件
                //         "inHouse": "yes",							//----厂内
                //         "issueDes": "XXXXX",						//-----问题描述
                //         "shortTerm": "xxxxxxxxx",					//-----短期措施
                //         "longTerm": "XXXXXXXXX",					//----长期措施
                //         "typeOfChange": ["xxx","XXX","XXXX"], 		// ----更改类型
                //         "partInformation": [				  		//----零件信息
                //             {
                //                 "itemNo":"11111111",
                //                 "partNo":"x22222",
                //                 "partName":"xxxxxx",
                //                 "rev":"xxasd",
                //                 "status": "1 STATUS...",
                //                 "change":"x",
                //                 "qty":"2",
                //                 "shop":"车间1",
                //                 "makeorbuy":"d",
                //                 "relatedCR":"c",
                //                 "arrivingDate":"b",
                //                 "remarks":"a"
                //             },
                //             {
                //                 "itemNo":"22222222",
                //                 "partNo":"3322",
                //                 "partName":"xxxxx",
                //                 "rev":"xxzxzx",
                //                 "status": "2 STATUS...",
                //                 "change":"y",
                //                 "qty":"1",
                //                 "shop":"车间2",
                //                 "makeorbuy":"a",
                //                 "relatedCR":"b",
                //                 "arrivingDate":"c",
                //                 "remarks":"d"
                //             }
                //         ],
                //         "operation": ["","",""],      		 	//---实施方式
                //         "dre": "yes",							//----相关图纸与文件已由DRE作为附件提供
                //         "instruction": "xxxxxxxxxxxx",   		//-----特殊指导
                //         "relatedPart": "yes",					//--------是否影响本子系统内零件的试验认证结果
                //         "smtPart": "yes",						//----是否影响其他子系统零件的试验认证结果
                //         "affAreas": ["","",""],				//-----影响区域
                //         "mfgArea": ["","",""], 					//------MFG评估区域
                //         "mfqType": ["","",""],					//----MFG评估类型
                //         "current": "Create",
                //         "email": "jayfan_k290@126.com"
                //     }
                // };
                //   //  AW  +给的数据 <<
                // var rst = {
                //     "data":{
                //         "affAreas":[],
                //         "submitter":"chao.liu.o",
                //         "part":"FALSE",
                //         "appDate":"GA-VB3",
                //         "program":"ES8",
                //         "bsdNo":"BSD-0000083",
                //         "current":"Approved",
                //         "longTerm":"Logistics accept the new AD version  part .\n物流接受AC状态的新样件。",
                //         "shortTerm":"N/A",
                //         "dre":"N",
                //         "smtPart":"No",
                //         "issueDes":"VB3 MBOM已经冻结前，相关零件的CR还没结束。",
                //         "email":"chao.liu.o@nio.com",
                //         "partInformation":[{
                //             "rev":"AC",
                //             "relatedCR":"CR-0000845",
                //             "shop":"",
                //             "arrivingDate":"",
                //             "qty":"0.0",
                //             "change":"",
                //             "id":"14464.24512.12800.34274",
                //             "partName":"RR_DR SPEAKER BRACKET",
                //             "remarks":"",
                //             "makeorbuy":"",
                //             "status":"Release",
                //             "partNo":"P0005133"
                //         },{
                //             "rev":"AC",
                //             "relatedCR":"CR-0000845",
                //             "shop":"",
                //             "arrivingDate":"",
                //             "qty":"0.0",
                //             "change":"",
                //             "id":"14464.24512.39936.12774",
                //             "partName":"FRT DR SPEAKER BRKT",
                //             "remarks":"",
                //             "makeorbuy":"",
                //             "status":"Release",
                //             "partNo":"P0005090"}],
                //         "mfqType":[],
                //         "affVeh":"VB3",
                //         "relatedPart":"No",
                //         "typeOfChange":["BOM Change"],
                //         "severityDef":"",
                //         "subDep":"BODY SMT",
                //         "inHouse":"FALSE",
                //         "instruction":"",
                //         "affectedSMTs":["BODY"],
                //         "reviewName":"ES8_BSD_Evaluate_BOM_Chg",
                //         "mfgArea":[],
                //         "impactPhase":"",
                //         "reviewId":"51456.32231.31744.44575",
                //         "operation":["Logistics update BOM"]
                //     }
                // };

                // //  // 取消，mock jsondata
                // var rst_aj2 = {
                //     "data":{
                //         "powerCancel": true
                //     }
                // }

                // //  // 超级审批，mock jsondata
                // var rst_aj3 = {
                //     "data":{
                //         "powerSuperApprove": true
                //     }
                // }
                // 以上是数据 json data AJAX1/2/3 【联调关闭】

                // 以下 是 按钮[取消/超级审批] 显示/不显 处理逻辑【联调关闭】
                // if(rst_aj2["data"]["powerCancel"]){
                //     $("#cancel_btn").css("display", "");
                // }else{
                //     $("#cancel_btn").css("display", "none");
                // }
                // if(rst_aj3["data"]["powerSuperApprove"]){
                //     $("#supapp_btn").css("display", "");
                // }else{
                //     $("#supapp_btn").css("display", "none");
                // }
                // 以上 是 按钮[取消/超级审批] 显示/不显 处理逻辑【联调关闭】

                // 以下 是水印 message处理逻辑【联调关闭】(内容暂时维持)
                // if(/Create/.exec(rst["data"]["current"])){
                //     wm_msg = "Create 创建";
                // }else if(/Evaluate/.exec(rst["data"]["current"])){
                //     wm_msg = "Evaluate 评审中";
                // }else if(/Approved/.exec(rst["data"]["current"])){
                //     wm_msg = "Approved 批准";
                // }else if(/Implemented/.exec(rst["data"]["current"])){
                //     wm_msg = "Implemented 实施";
                // }else if(/Failed/.exec(rst["data"]["current"])){
                //     wm_msg = "Failed 失败";
                // }
                // 以上 是水印 message处理逻辑【联调关闭】

                //以下 B【联调关闭】
                // program = rst["data"]["program"];
                // $("#program").text(rst["data"]["program"]);
                // $("#impact_phase").text(rst["data"]["impactPhase"]);
                // $("#bsd_no").text(rst["data"]["bsdNo"]);
                // bsdno =  "" + rst["data"]["bsdNo"];
                // $("#sub_dep").text(rst["data"]["subDep"]);
                // $("#submitter").text(rst["data"]["submitter"]+"--"+rst["data"]["email"]);
                // $("#app_date").text(rst["data"]["appDate"]);
                // $("#aff_veh").text(rst["data"]["affVeh"]);
                // $("#severity_def").text(rst["data"]["severityDef"]);

                // // for(var j=0; j<rst["data"]["reviewerList"].length; j++){
                // //     reviewer_list += "" + rst["data"]["reviewerList"][j]["reviewName"];
                // //     if(j != rst["data"]["reviewerList"].length-1){
                // //         reviewer_list += ", ";
                // //     }
                // // }
                // // $("#reviewer_list").text(reviewer_list);

                // $("#affected_smts").text(rst["data"]["affectedSMTs"]);
                // $("#part").text(rst["data"]["part"]);
                // $("#in_house").text(rst["data"]["inHouse"]);
                // $("#issue_des").text(rst["data"]["issueDes"]);
                // $("#short_term").text(rst["data"]["shortTerm"]);
                // $("#long_term").text(rst["data"]["longTerm"]);
                // $("#type_of_change").text(rst["data"]["typeOfChange"]);
                
                // var tbd = $("#info_tbd");
                // for(var i=0; i<rst["data"]["partInformation"].length; i++){
                //     var tds = $('<tr class="cell_h_60px"><td id="itemno_'+i+'"></td><td id="partno_'+i+'"></td><td id="partname_'+i+'"></td><td id="rev_'+i+'"><td id="sta_'+i+'"></td><td id="change_'+i+'"></td><td id="qty_'+i+'"></td><td id="shop_'+i+'"></td><td id="makeorbuy_'+i+'"></td><td id="relatedcr_'+i+'"></td><td id="arrivingdate_'+i+'"></td><td id="reamrks_'+i+'"></td></tr>');
                //     tbd.append(tds);
                //     $("#itemno_"+i+"").text(i+1);
                //     $("#partno_"+i+"").text(rst["data"]["partInformation"][i]["partNo"]);
                //     $("#partname_"+i+"").text(rst["data"]["partInformation"][i]["partName"]);
                //     $("#rev_"+i+"").text(rst["data"]["partInformation"][i]["rev"]);
                //     $("#sta_"+i+"").text(rst["data"]["partInformation"][i]["status"]);
                //     $("#change_"+i+"").text(rst["data"]["partInformation"][i]["change"]);
                //     $("#qty_"+i+"").text(rst["data"]["partInformation"][i]["qty"]);
                //     $("#shop_"+i+"").text(rst["data"]["partInformation"][i]["shop"]);
                //     $("#makeorbuy_"+i+"").text(rst["data"]["partInformation"][i]["makeorbuy"]);
                //     $("#relatedcr_"+i+"").text(rst["data"]["partInformation"][i]["relatedCR"]);
                //     $("#arrivingdate_"+i+"").text(rst["data"]["partInformation"][i]["arrivingDate"]);
                //     $("#reamrks_"+i+"").text(rst["data"]["partInformation"][i]["remarks"]);
                // }
                // var tdx = $('<tr class="con_partinfo_sty"><td colspan="11" height="3px" class="borderbtm_0"></td></tr>');
                // tbd.append(tdx);

                // $("#operation").text(rst["data"]["operation"]);
                // $("#dre").text(rst["data"]["dre"]);
                // $("#instruction").text(rst["data"]["instruction"]);
                // $("#related_part").text(rst["data"]["relatedPart"]);
                // $("#smt_part").text(rst["data"]["smtPart"]);
                // $("#aff_areas").text(rst["data"]["affAreas"]);
                // $("#mfg_area").text(rst["data"]["mfgArea"]);
                // $("#mfq_type").text(rst["data"]["mfqType"]);
                // $(".water_mark").text(wm_msg);
                //  以上 B【联调关闭】
                // wm_msg = "Create 创建";
                // // wm_msg = "Approved 批准";
                // // wm_msg = "Implemented 实施";
                // $(".water_mark").text(wm_msg);
                // // 水印还是要有的，以上。

                //按钮：生成PDF  >> 逻辑
                // 打印方案一（调用 html2canvas+jsPDF）：
                // $("#gen_pdf").on("click", function(){
                //     //click后开始进入loading << 开启
                //     $("#loading_icon").css("display", "");
                //     $(window).scrollTop(0);
                //     //先撤掉水印 << 关闭
                //     $("#wm_wrap").css("display", "none");
                //     html2canvas(document.querySelector("#bd_all")).then(canvas => {
                //         // $("#for_canvas").append(canvas);
                //         var img = new Image();
                //         img.src = "data:img/jpg;base64,iVBORw0KGgoAAAANSUhEUgAAAHIAAAAoCAYAAAAiyK7sAAAAAXNSR0IArs4c6QAAB41JREFUeAHtm2mMFEUUx3e5FFEQiUgIZDceIF88UKIYERAMKIdEAcMHj6BoIBoCCRgEZVZDEG+NIPEDAaMQEhTRIHgkrgoi4TDiEYhEbgEJxwLK5bL+/pvpsaenq7u6p2eGsPuSf7rr1Xv/qnqvq7u6eqa8LE+pq6trDUVX0BZcClS+EBwDNWns5bi1vLz8X46Ncq5EgOTdAF4A68BZYCPHMFoGxgIlvVFKFQES0AN8CvKVoxDMAO1KNZYG2S4BrwDLQdKiWTodNGuQgS3moAnyEHAIFFK+hbxjMcfVYNoisM3AS8D2GYhpXvIX3nc1mAAXa6AEdV5eaYnnfLoxmQlmmGA+Hy8PiXhpIXRjgsNpmFQE8fFE0pEfyV7cKxtmBuKNutztRvCup7wBNHXrS3S+nnZvYRPhbInaL1mz5KEFjTdl7CdsO+FNZDWOvW2di2D3KIOZF6cdgjEKv2tdvrWcbwZLolwc8PTEpx9oDhxZCMcWp5AO/IOUOwMnpjXYvObYBB3xv4b6+8EQ0AXo/Vo8R8A28BlYCp8mWbBANhyca7KPDl0S3HP/Wvw+NgxmCfom/l7ZWuw6glM+PAp4Rqif5mOzI2NgOMGnArwHaoGNrMBId80cqR8QldobfTmn1l6hK2UiuA60AXrB7wD6A12Vh0AcuQKnaXEcA3x05b8VUO+uupKCbnNh0i3MwFtPzAej2wQ0k60uLOwGgvX4juWYK1SMBHFkD05DcxmzNdi0BjOB7ZWHaUZqOLMJZlaj+JhmpEM8KcvBp4DhHY6x5+idkQs99SoaZyR1Y0CcWIjXkVnuLjtXwnC30vJ8LXbduW9/EmaPzVEwBbtB4J8we099a8qF2CiYRUQe8LRV8CJt6nk7Bzixj9vmZLjGOM5NKLSkcI+jsDz+gd1gkrPf0r7eDPuVnOhWUhfFD9s4F1pYE1pMLGD8vcIMk6qnrYvh+gCY9pbPUPcleAXMBB+CY8Akb8Op2z8Rrau7D0QRbdndZGK20eP/RpQGsdVer2nwvk1iH3ZrdbogbvfqNsOHPtFbK3xBGy1rqNd33SxB1w4sAiZZLAdNb031KKLluxY3+cgMnI9HIND3y4oI9lFMxa3VoBZWBRP4m0P+lKGBhehvJ66ZVxrHDt1BMIqy6Zk+Au5OSmQ3x8nymM/qtr4JOnaAk/mW7Tlmhfw6Ukkj+kzXymmsAMc+cOoXFF7ZjWIcMan1VnjKr1L+2qNTUY+IYUrkVSpZyg4aXGdpG2a2JMzAU9/eU45T3I6TntN+osfFYpLZ1K8yAd2dBo4UMa0x1GXU2GhdMSGjyD7pq0Tqvc9WbN+/bPi+w+hHG8O0zUURbE2m+s3QCGBqdxB1s03Oeeo7GfxNF1aOOcn8CeW+nIqysk5aQIwHSqhJtNd5EmwFu7hiR3LULUhTOq6IUz/I6g16As02PUOCZG1QpW0dwTjOGJSwNcDvufsE9Tuw06oxSTHdURSHKCL7Dh6H9s3o8AKP0rfI4LRM3wy0OEhKqiEaSh+ClthJtZXhob29jEevXKuB33NLvyfaSd2ujFP+J4cNFIrnQUOdn9ov/keCZmKGhEFp5qwAfiQZuxgnffD5An699BdVSOZvNDgMnPZpWHcbbdb39amLq/rT4Gj9HkucOsNR6cOzJzSR6SQux1m300LIrZB+XqJkfkPbjwAtJLyibcHpXmUe5R8MvlMZu+078nMGjrWBiSxCEp1+lTKZi+jEM05HPEfNzKREd7RTPmQ3o5vio89SkYu7UTyWpfy/sNSYyCIm0elOKZP5Ip2Y63SkEMf0OkAXjZ9UEe/ZIOeuh07bqBNx+sjPEd33cP/iO6Vx1DOxkLdTQ5/KnGQOoHNHTUYF0j8Jr14RBheIX7TPAm3Ut1TBJZr548AgYv8+x01A+65dgN4SugOTTPKtUBKBluilFO075rUAwt9vr/V330Gnlfi0AvobRJgMcfNgbP0ZC9txYeQR6t90+pF1a4UgiZm4DPIJYLvTSIyjMzPzSmbUdrkL/I2PZuS2qL629rQxB9vZtvYBdiup0y03W5REkO9MnOGwwnU52Ajykdgzk0Yjz0hX37vifzCg47FnpNqAtxxMB/qSFEfm4XSB018d3TNyIOWch63bOOS8iqttqmPD+QHO+4GNji7GsQc+FTH8TC47TRVuPX3fQvlecMKtT+oc/jpQBZ9Wor9G4N2N7cP4jgZZK2D3Ykez6SEQ5ytDFcQpfLME3WGunP4ovwJBD+wsP1dhLhw/u8pRTvWO6N4x0i/SXrcloN1V9L0n9qPBZR4/BdQtqyjUuhWch+7W0Iben/UhWQuaEWAA8E4mbVhUg6VgPj4nOQYLpKNAVEkFs9bfStpCuiEi8X7sk95JCutqSesZb3NQCW4DvcDVwLvCtesjju8CW0nZsUZO5hk60MeWu9HOJwIEsAXQIiNMUj7ugSoIbWfm+ECixkq7CBDwsBVnyo4p18oimZmVb653oyZyBAh4G7AaeCUVmczjAKFpZk72mDYWk4gAAW8J3nFlMpUErzg8ydQv2Qrxk8ekunt+8BBk/f386aRHk06mLhTTzyCSbvK85fsP4Qg6ll0sergAAAAASUVORK5CYII=";
                //         img.onload = function(){
                //             var ctx = canvas.getContext("2d");
                            
                //             //文字水印
                //             ctx.fillStyle = "rgba(0,0,0,0.1)";
                //             ctx.font = "73px 微软雅黑";
                //             ctx.fillText(wm_msg,590,480);
                //             ctx.fillText(wm_msg,590,980);
                //             ctx.fillText(wm_msg,590,1480);
                //             ctx.fillText(wm_msg,590,1980);

                //             //NIO LOG0
                //             ctx.drawImage(img, 150, 120);

                //             var dataURL = canvas.toDataURL('image/png');
                //             var doc = new jsPDF('landscape','pt',[2300, 2300]);
                //             doc.addImage(dataURL, 'PNG', 0, -90, 2300, 2385);
                //             doc.save(bsdno+'.pdf');
                //             //重开 水印
                //             $("#wm_wrap").css("display", "");
                //             //关闭 loading
                //             $("#loading_icon").css("display", "none");
                //         }
                //     });
                // });
                //打印方案二（调用 浏览器自带打印）：
                $("#gen_pdf").on("click", function(){
                    $(window).scrollTop(0);
                    $(".group01").addClass("font_wei01");
                    $(".group02").addClass("font_wei02");
                    $(".group03").addClass("font_wei03");
                    $("#fix_top").css("position", "inherit");
                    $("#fix_top").css("margin-top", "-167px");
                    window.print();
                    $("#fix_top").css("position", "fixed");
                    $("#fix_top").css("margin-top", "0px");
                    $(".group01").removeClass("font_wei01");
                    $(".group02").removeClass("font_wei02");
                    $(".group03").removeClass("font_wei03");
                });

                //按钮：取消  >> 逻辑
                $("#cancel_btn").on("click", function(){
                    //1  关闭窗口
                    // window.close();
                    //2  chrome/firfox “无法关闭‘非自打开窗口’”应对办法
                    // open(location, '_self').close();
                    //3  chrome最新版本下：无法关闭“非自打开窗口”
                    // window.location.href="about:blank";
                    // window.close();
                    //cancel， 直接（ajax本ID后）跳转给定的JSP（本地状态下  无法跳转）
                    // $(location).attr('href', '../components/NioBSDCancell.jsp'+"?id="+objectId );
                    $(location).attr('href', '/3dspace/components/NioBSDCancell.jsp'+"?objectId="+objectId );
                });
                //按钮：超级审批  >> 逻辑
                $("#supapp_btn").on("click", function(){
                    // window.open('../components/NioBSDSuperApproval.jsp'+"?id="+objectId);
                    // window.open('/3dspace/components/NioBSDSupperApprove.jsp'+"?id="+objectId);
                    window.open('/3dspace/components/NioBSDSuperApproval.jsp'+"?objectId="+objectId, 'newwindow', 'height=550, width=820, top=100, left=300, toolbar=no, menubar=no, resizable=no, location=no, status=no');
                });
                //按钮：返回修改  >> 逻辑
                $("#back_btn").on("click", function(){
                    //以下是正式代码，【联调时，打开！】
                    $(location).attr('href', 'BSD_beforePP.jsp'+'?Program='+program+'&objectId='+objectId);
                    //以上是正式代码，【联调时，打开！】

                    //以下是本地测试代码 【联调关闭】
                    // $(location).attr('href', 'http://www.baidu.com');
                    //以上是本地测试代码 【联调关闭】
                });
                
            });

        </script>
    </body>
</html>